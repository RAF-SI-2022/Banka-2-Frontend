<div class="body-container">


  <p-breadcrumb [model]="breadcrumbItems"></p-breadcrumb>

  <div class="table-container">


    <p-table #dt [value]="transactions" class="p-datatable-header"
             [rowHover]="true" [rows]="6" [showCurrentPageReport]="true"
             [paginator]="true" [alwaysShowPaginator]="false"
             [loading]="loading" [loadingIcon]="''"
             currentPageReportTemplate="Prikazani su {first}-{last} od ukupno {totalRecords} hartija"
             [globalFilterFields]="['status']">


      <ng-template pTemplate="caption">

        <div class="table-header row">
          <div class="col-6 text-start table-name">
            <div style="display:flex; align-items: center; gap: 8px;">
              <h3 style="font-size: medium;">
                Porudžbine
              </h3>

            </div>
          </div>


          <div class="col-6 text-end">
            <button (click)="refresh()"
                    pButton pRipple styleClass="p-button-sm"
                    class="p-button-raised p-button-secondary add-employee-btn-lg"
                    label="Refresh" icon="bi bi-arrow-repeat"
                    style="max-width: 200px; font-size: 14px; background-color: #3d3d3d;">

            </button>
            <button pButton pRipple styleClass="p-button-sm" style="background-color: #3d3d3d;"
                    class="p-button-raised p-button-secondary add-employee-btn-sm"
                    icon="bi bi-arrow-repeat" (click)="refresh()"></button>
          </div>


        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="hartija" style="font-size: 12px;">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Hartija</p>
                <p-sortIcon field="hartija"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="transactions" style="font-size: 12px;">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Transakcija</p>
                <p-sortIcon field="price"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="exchangeMICCode" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Simbol</p>
                <p-sortIcon field="volume"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="volume" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Količina</p>
                <p-sortIcon field="change"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="price" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Cena</p>
                <p-sortIcon field="change"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="status" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Status</p>
                <p-sortIcon field="change"></p-sortIcon>

                <p-columnFilter field="status" matchMode="equals" [showMatchModes]="false" [showOperator]="false"
                                [showAddButton]="false" display="menu" class="ml-auto">
                  <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                    <p-dropdown [ngModel]="value" [options]="status" (onChange)="filter($event.value)"
                                placeholder="Izaberi status">
                      <ng-template let-option pTemplate="item">
                        <span [class]="'customer-badge status-' + option.value">{{option.label}}</span>
                      </ng-template>
                    </p-dropdown>
                  </ng-template>
                </p-columnFilter>
              </div>
            </div>
          </th>
          <th pSortableColumn="zavrsena" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Završena</p>
                <p-sortIcon field="zavrsena"></p-sortIcon>
              </div>
            </div>
          </th>

          <th pSortableColumn="lastModifed" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Poslednje modifikovana</p>
                <p-sortIcon field="lastModifed"></p-sortIcon>
              </div>
            </div>
          </th>

        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-transaction>
        <tr class="rowHover" style="font-size: 12px;">
          <td>{{transaction.hartija}}</td>
          <td>{{transaction.transaction}}</td>
          <td>{{transaction.exchangeMICCode}}</td>
          <td>{{transaction.volume}}</td>
          <td>{{transaction.price}}</td>
          <td>{{transaction.status}}</td>
          <td>{{transaction.zavrsena}}</td>
          <td>{{transaction.lastModifed}}</td>
        </tr>

      </ng-template>


    </p-table>


  </div>

</div>
